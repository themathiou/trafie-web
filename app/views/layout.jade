vdoctype 5
html(ng-app="trafie")
head
	meta(charset="utf-8")

	//ICONS
	link(rel="icon" href="/images/icons/trafie_72.png" type="image/x-icon")
	//- link(rel="apple-touch-icon-precomposed" sizes="57x57" href="/images/icons/trafie_57.png")
	//- link(rel="apple-touch-icon-precomposed" sizes="72x72" href="/images/icons/trafie_72.png")
	//- link(rel="apple-touch-icon-precomposed" sizes="114x114" href="/images/icons/trafie_114.png")
	//- link(rel="apple-touch-icon-precomposed" sizes="144x144" href="/images/icons/trafie_144.png")

	link(href='http://fonts.googleapis.com/css?family=Open+Sans:300,400,600&subset=latin,greek,cyrillic' rel='stylesheet' type='text/css')
	//- link(rel='stylesheet', href='/styles/reset.css')
	link(rel='stylesheet', href='/styles/style.css')
	link(rel='stylesheet', href='/styles/bootstrap.css')


	meta(name="apple-mobile-web-app-capable" content="yes")
	title trafie

body( ng-controller="mainController" ng-init="appInit()" ng-cloak)
	div#mainmenu_container
		div#mainmenu
			div
			a.logo(href="/")
			input#search( type="text" ng-model="asyncSelected" placeholder="search for athletes!" typeahead-on-select="onSelect($item, $model, $label)" typeahead="result.label for result in searchUser($viewValue)" typeahead-loading="loadingLocations" class="form-control" autocomplete="off" )


			if user._id
				ul.navigation_menu
					li
						a.menu_profile(href="/" ng-class="{active: section == 'profile'}" ) {{user_first_name}}
					li
						a.menu_statistics(href="/statistics" ng-class="{active: section == 'statistics'}")= tr['statistics']
					li
						a.menu_settings(href="/settings" ng-class="{active: section == 'settings'}")= tr['settings']
			else
				ul.navigation_menu
					li
						a.menu_profile(href="/register") Register
					li
						a.menu_statistics(href="/login") Login
						
	#content.col-md-8( ng-view )

	

	//libs
	script(type="text/javascript", src="/scripts/libs/angular-file-upload-html5-shim.js")
	script(type="text/javascript", src="/scripts/libs/angular.min.js")
	script(type="text/javascript", src="/scripts/libs/angular-route.min.js")
	script(type="text/javascript", src="/scripts/libs/angular-animate.min.js")
	script(type="text/javascript", src="/scripts/libs/ui-bootstrap-0.10.0.min.js")
	script(type='text/javascript', src='/scripts/app.js')

	//services
	script(type='text/javascript', src='/scripts/services/uploadSvc.js')
	script(type='text/javascript', src='/scripts/services/modalSvc.js')
	script(type='text/javascript', src='/scripts/services/alertSvc.js')
	
	//directives
	// script(type='text/javascript', src='/scripts/directives/angular-file-upload.js')
	script(type='text/javascript', src='/scripts/directives/file-select.js')

	//controllers
	script(type='text/javascript', src='/scripts/controllers/mainController.js')
	script(type='text/javascript', src='/scripts/controllers/profileController.js')
	script(type='text/javascript', src='/scripts/controllers/settingsController.js')
	script(type='text/javascript', src='/scripts/controllers/statisticsController.js')

	//to be removed
	//script(type='text/javascript', src='/scripts/scripts/script.js')
	


	script(type='text/javascript', src='https://www.google.com/jsapi')

	
//script.
	mainMenuHandlers();



